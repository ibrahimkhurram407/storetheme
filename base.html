{# --------------------------------------------- #}
{#                                               #}
{#   Flare theme for CraftingStore by Coldfire   #}
{#            https://coldfiredzn.com            #}
{#                    v1.1.6                     #}
{#                                               #}
{# --------------------------------------------- #}

{# --------------------------------------------- #}
{# ------------ Start Settings Vars ------------ #}
{# --------------------------------------------- #}

{# Only change the part between '', DO NOT change anything else #}

{# Link the back to forums button goes to #}
{% set forums_link = 'https://bumblecraft.net' %}

{# Text of back to forums button #}
{% set forums_button_name = 'Back to Home' %}

{# Your discord server id #}
{% set discord_id = '445240948746747905' %}

{# Your discord server link. DO NOT include https:// or http:// #}
{% set discord_link = 'discord.gg/Wxw7xrtn2j' %}

{# Your server IP #}
{% set server_ip = 'play.bumblecraft.net' %}

{# Make dark mode the default for users? #}
{% set dark_mode_default = 'no' %}

{# Enable particles in the header? #}
{% set particles = 'yes' %}

{# Enable theme color overlay on the header background image? #}
{% set color_overlay = 'yes' %}

{# Footer about section title #}
{% set footer_about_title = 'About' %}

{# Footer about section description #}
{% set footer_about_description = 'BumbleCraft is a minecraft network which is community focused! Join today at play.bumblecraft.net' %}

{# Footer links section title #}
{% set footer_links_title = 'Links' %}

{# Footer forums section title #}
{% set footer_forums_title = 'Forums' %}

{# Footer forums section description #}
{% set footer_forums_description = 'Visit the BumbleCraft forums today to apply for staff positions, chat with other players, and more!' %}

{# Footer forums section button link #}
{% set footer_forums_btn_link = 'https://bumblecraft.net/' %}

{# Footer forums section button name #}
{% set footer_forums_btn_name = 'Visit Forums' %}

{# Footer Links #}
{# You can have up to 5 - leave the name property blank to disable a link #}
{# Set the name property to the link name and the link property to the link #}

{% set footer_link_1_name = 'Link #1' %}
{% set footer_link_1_link = '/link-1' %}

{% set footer_link_2_name = 'Link #2' %}
{% set footer_link_2_link = '/link-2' %}

{% set footer_link_3_name = 'Link #3' %}
{% set footer_link_3_link = '/link-3' %}

{% set footer_link_4_name = 'Tiktok' %}
{% set footer_link_4_link = 'https://tiktok.bumblecraft.net' %}

{% set footer_link_5_name = 'Instagram' %}
{% set footer_link_5_link = 'https://instagram.bumblecraft.net' %}

{# Footer Icons #}
{# You can have up to 5 - leave the icon property blank to disable a icon #}
{# Set the icon property to the icon html and the link property to the link #}
{# You can find the icon html at https://fontawesome.com - copy just the class name of the link, not the html code #}

{% set footer_icon_1_icon = 'fab fa-twitter-square' %}
{% set footer_icon_1_link = 'https://twitter.bumblecraft.net' %}

{% set footer_icon_2_icon = 'fas fa-envelope-square' %}
{% set footer_icon_2_link = 'https://bumblecraft.net/index.php?route=/contact/' %}

{% set footer_icon_3_icon = '' %}
{% set footer_icon_3_link = '' %}

{% set footer_icon_4_icon = '' %}
{% set footer_icon_4_link = '' %}

{% set footer_icon_5_icon = '' %}
{% set footer_icon_5_link = '' %}

{# Header height #}
{% set bg_height = '380px' %}

{# Header height mobile #}
{% set bg_height_mobile = '300px' %}

{# Logo height #}
{% set logo_height = '230px' %}

{# Logo height mobile #}
{% set logo_height_mobile = '180px' %}

{# Make logo bob up and down? #}
{% set animate_logo = 'yes' %}

{# --------------------------------------------- #}
{# ------------- End Settings Vars ------------- #}
{# --------------------------------------------- #}

<!DOCTYPE html>
<html id="html" lang="en">
<head>
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" as="style">
	<link rel="preconnect" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <link rel="dns-prefetch" href="https://cdn.craftingstore.net">
    <link rel="icon" href="{{ store.favicon }}">
    <title>{{ page_name }} &bull; {{ store.name }}</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/{{ store.assets_hash }}/style.css?v={{ store.updatedAt }}">
    {% if store.advertisements is defined and store.advertisements %}
    <script async data-no-instant src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script data-no-instant>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-3641858155756746",
            enable_page_level_ads: true
        });
    </script>
    {% endif %}
    
    <style>
        
        @media (min-width: 801px) {
	        .box {
		        margin-top: calc(-92.5px + ((92.5px - {{ bg_height }}) / 2)) !important;
	        }
            
	        .logo {
		        height: {{ logo_height }};
		        {% if animate_logo|length > 2 %}
	        	margin: calc((({{ logo_height }} * -1) + (({{ logo_height }} - {{ bg_height }}) / 2)) - 5px) 0;
	        	{% else %}
	        	margin: calc(({{ logo_height }} * -1) + (({{ logo_height }} - {{ bg_height }}) / 2)) 0;
	        	{% endif %}
	        }
        }

        @media (max-width: 800px) {
	        .logo {
		        height: {{ logo_height_mobile }};
		        {% if animate_logo|length > 2 %}
	        	margin: calc((({{ logo_height_mobile }} * -1) + (({{ logo_height_mobile }} - {{ bg_height_mobile }}) / 2)) - 5px) 0;
	        	{% else %}
	        	margin: calc(({{ logo_height_mobile }} * -1) + (({{ logo_height_mobile }} - {{ bg_height_mobile }}) / 2)) 0;
	        	{% endif %}
	        }
        }

        .header {
	        height: {{ bg_height }};
        }

        @media only screen and (max-width: 768px) {
	        .header {
		        height: {{ bg_height_mobile }};
	        }
        }
        
    </style>
    
</head>

<body>

    <!-- header -->
    {% include header %}
    
    <div class="container" style="margin-top: -30px; position: relative;">
        
        <div class="row">
            <div class="col-md-3 widget-col">
                {% include navbar %}
                {% for module in modules %}
                {% if module.type == "recentPayments" %}
                    {% include module.payments with {'module': module} %}
                {% elseif module.type == "topDonator" %}
                    {% include module.topdonator with {'module': module} %}
                {% elseif module.type == "ownText" %}
                    {% include module.owntext with {'module': module} %}
                {% elseif module.type == "discordWidget" %}
                    {% include module.discord with {'module': module} %}
                {% elseif module.type == "donationGoal" %}
                    {% include module.donationgoal with {'module': module} %}
                {% elseif module.type == "giftCard" %}
                    {% include module.giftcard with {'module': module} %}
                {% elseif module.type == "serverStatus" %}
                    {% include module.serverstatus with {'module': module} %}
                {% elseif module.type == "featuredPackage" %}
                    {% include module.featuredpackage with {'module': module} %}
                {% endif %}
            {% endfor %}
            </div>
            <div class="col-md-9">
            {% if errors|length > 0 %}
            <div class="alert alert-warning">
                <ul>
                    {% for error in errors.all() %}
                    <li>{{ error | raw }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% block page %}
            {% endblock %}
            </div>
        </div>
    
    </div>
    
    <div class="container">
            <a class="btn btn-secondary" href="#" id="scroll" style="right: 80px; display: none;"><i class="fas fa-arrow-up"></i></a>
            <button class="btn btn-secondary ts-icon" style="right: 30px;" role="button" id="theme-switch" onclick="themeFunction()"><i class="fas fa-palette"></i></button>
    </div>
    <br />
         
    <!-- footer -->
    {% include footer %}
    
    <script>
        
        const currentTheme = localStorage.getItem("theme");

        if (currentTheme == null) {
            if ("{{ dark_mode_default }}" == "yes") {
                localStorage.setItem("theme", "dark");
            } else {
                localStorage.setItem("theme", "light");
            }
        }
        if (currentTheme !== null) {
            if (currentTheme == "dark") {
                document.getElementById("html").className = "dark";
            }
            if (currentTheme == "light") {
                document.getElementById("html").className = "";
            }
        }

        document.getElementById("html").style.display = "block";

        function themeFunction() {
            if (currentTheme == "dark") {
                localStorage.setItem("theme", "light");
                location.reload();
                return false;
            }
            if (currentTheme == "light") {
                localStorage.setItem("theme", "dark");
                location.reload();
                return false;
            }
        }
            
    </script>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	<script src="https://cdn.craftingstore.net/file/craftingstore-cdn/assets/shops/js/store.js" data-no-instant></script>
	<script type="text/javascript" src="https://unpkg.com/sweetalert/dist/sweetalert.min.js" defer></script>
	{% if particles|length > 2 %}
	<script type="text/javascript" src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
	<script>
	    
	    $(window).on("load", function() { 
	        particlesJS("header-pjs", {
                "particles": {
                   "number": {
                       "value": 200,
                       "density": {
                           "enable": true,
                           "value_area": 800
                       }
                   },
                   "color": {
                       "value": "#ffffff"
                   },
                   "shape": {
                       "type": "circle",
                       "stroke": {
                           "width": 0,
                           "color": "#000000"
                       },
                       "polygon": {
                           "nb_sides": 5
                       },
                       "image": {
                           "src": "img/github.svg",
                           "width": 100,
                           "height": 100
                       }
                   },
                   "opacity": {
                       "value": 1,
                       "random": false,
                       "anim": {
                           "enable": false,
                           "speed": 1,
                           "opacity_min": 0.1,
                           "sync": false
                       }
                   },
                   "size": {
                       "value": 2.5,
                       "random": true,
                       "anim": {
                           "enable": false,
                           "speed": 40,
                           "size_min": 0.1,
                           "sync": false
                       }
                   },
                   "line_linked": {
                       "enable": false,
                       "distance": 150,
                       "color": "#ffffff",
                       "opacity": 0.4,
                       "width": 1
                   },
                   "move": {
                       "enable": true,
                       "speed": 5,
                       "direction": "top",
                       "random": false,
                       "straight": false,
                       "out_mode": "out",
                       "bounce": false,
                       "attract": {
                           "enable": false,
                           "rotateX": 600,
                           "rotateY": 1200
                       }
                   }
               },
               "interactivity": {
                   "detect_on": "canvas",
                   "events": {
                       "onhover": {
                           "enable": false,
                           "mode": "grab"
                       },
                       "onclick": {
                           "enable": false,
                           "mode": "push"
                       },
                       "resize": true
                   },
                   "modes": {
                       "grab": {
                           "distance": 140,
                           "line_linked": {
                               "opacity": 1
                           }
                       },
                       "bubble": {
                           "distance": 400,
                           "size": 40,
                           "duration": 2,
                           "opacity": 8,
                           "speed": 3
                       },
                       "repulse": {
                           "distance": 200,
                           "duration": 0.4
                       },
                       "push": {
                           "particles_nb": 4
                       },
                       "remove": {
                           "particles_nb": 2
                       }
                   }
               },
               "retina_detect": true
           });
        });
        
    </script>
    {% endif %}
    <script>
	    
	    function copyToClipboard(element) {
            var $temp = $("<input>");
            $("body").append($temp);
            $temp.val($(element).text()).select();
            document.execCommand("copy");
            $temp.remove();
            
            swal("IP Copied!", "Now go join the server!", "success", {
                button: "Close",
            });
        }
        
        $(".pop").popover({ trigger: "manual", html: "true", placement: "top" })
            .on("mouseenter", function() {
                var _this = this;
                $(this).popover("show");
                $(".popover").on("mouseleave", function() {
                    $(_this).popover('hide');
                });
            }).on("mouseleave", function() {
                var _this = this;
                setTimeout(function() {
                if (!$(".popover:hover").length) {
                    $(_this).popover('hide');
                }
            }, 300);
        });

        $(function() {
            $('[data-toggle="tooltip"]').tooltip()
        });
        
        $(function() {
            $('[rel="tooltip"]').tooltip()
        });

        $('[data-toggle="popover"]').popover({ trigger: "manual", html: true, animation: false }).on("mouseenter", function() {
            var _this = this;
            $(this).popover("show");
            $(".popover").on("mouseleave", function() {
                $(_this).popover('hide');
            });
        }).on("mouseleave", function() {
            var _this = this;
            setTimeout(function() {
                if (!$(".popover:hover").length) {
                    $(_this).popover("hide");
                }
            }, 300);
        });
        
        $(document).ready(function() {
            $(window).scroll(function() {
                if ($(this).scrollTop() > 100) {
                 $("#scroll").stop().fadeIn();
                } else {
                    $("#scroll").stop().fadeOut();
                }
            });
            $("#scroll").click(function() {
                $("html, body").animate({ scrollTop: 0 }, 600);
                return false;
            });
        });
	        
	</script>
    <script>
        if (window.screen.width > 1100) {
    
        $(window).on("load", function() { 
        
        let serverStatusIp = "{{ server_ip }}";
        $.ajax({
            url: "https://api.mcsrvstat.us/2/" + serverStatusIp,
            success: function (data) {
                if (data.online) {
                    let online = data.online;
                    let playerCurrentCount = data.players.online;
                    updateStatus(online, playerCurrentCount);
                } else {
                    let online = null;
                    updateStatus(online);
                }
            },
            error: function () {
                $.ajax({
                    url: "https://mcapi.us/server/status?ip=" + serverStatusIp,
                    success: function (data) {
                        if (data.online) {
                            let online = data.online;
                            let playerCurrentCount = data.players.now;
                            updateStatus(online, playerCurrentCount);
                        } else {
                            let online = null;
                            updateStatus(online);
                        }
                    },
                });
            },
            timeout: 1000,
        });
        
        function updateStatus(online, current) {
            let statusStatusDiv = $(".server-status");
            if (online) {
                statusStatusDiv.empty();
                if ((current > 1) || (current < 1)) {
                    statusStatusDiv.html("There are currently <b>" + current + "</b> players online.");
                } else {
                    statusStatusDiv.html("There is currently <b>" + current + "</b> player online.");
                }
            } else {
                statusStatusDiv.empty();
                statusStatusDiv.text("The server is currently offline.");
            }
        }
        
        });

        }
    </script>
    <script>
        if (window.screen.width > 1100) {
    
        $(window).on("load", function() { 
        
        let discordStatusID = "{{ discord_id }}";
        $.ajax({
            url: "https://discord.com/api/guilds/" + discordStatusID + "/embed.json",
            success: function (data) {
                let presence_count = data.presence_count;
                updateDiscordStatus(presence_count);
            },
            error: function () {
            },
            timeout: 1000,
        });
        
        function updateDiscordStatus(presence_count) {
            let discordStatusDiv = $(".discord-status");
            discordStatusDiv.empty();
            if ((presence_count > 1) || (presence_count < 1)) {
                discordStatusDiv.html("There are currently <b>" + presence_count + "</b> users online.");
            } else {
                discordStatusDiv.html("There is currently <b>" + presence_count + "</b> user online.");
            }
        }
        
        });
        
        }

    </script>
    
</body>
</html>